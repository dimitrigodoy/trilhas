<div id="inputs">
<?php $justify = "";?>
<?php if( $this->rs && $this->rs->count() ):?>
    <?php $i = 1?>
    <?php foreach( $this->rs as $key => $rs ):?>
        <p id="p-<?=$i?>">
            <input type="radio" name="correct" value="<?=$i?>" <?=$rs->status == "V" ? "checked" : null ?> />
            <input type="text" name="alternative[<?=$i?>]" id="text-<?=$i?>" value="<?=$rs->value?>" />
        </p>
		<?php
			if( $rs->justify ){
				$justify = $rs->justify;
			}
		?>
        <?php $i++?>
    <?php endforeach;?>
<?php else:?>
        <p id="p-1">
            <input type="radio" name="correct" value="1" />
            <input type="text" name="alternative[1]" id="text-1" />
        </p>

        <p id="p-2">
            <input type="radio" name="correct" value="2" />
            <input type="text" name="alternative[2]" id="text-2" />
        </p>
<?php endif;?>
</div>

<a id="add" href="#this"><?=$this->translate( 'add alternative' )?></a>

<br /><br />
<label><?=$this->translate( 'justify' )?>:</label>
<input type="text" name="justify" id="justify" value="<?=$justify?>" />

<script type="text/javascript">
    /**
     * add validate
     *
     * QuestionValidate was the variable created in the file question/input.phtml
     */
    window.QuestionValidate.addValidate( 'text-1' , window.QuestionValidate.notEmpty , <?=Zend_Json::encode( array ( 'notEmpty' => $this->translate("required field") ) )?> , null , 'notEmpty'  );
	window.QuestionValidate.addValidate( 'text-2' , window.QuestionValidate.notEmpty , <?=Zend_Json::encode( array ( 'notEmpty' => $this->translate("required field") ) )?> , null , 'notEmpty'  );
	
    /**
     * variable to generate the id's of inputs
     */
    <?php if( $this->rs && $this->rs->count() ):?>
        var i = <?=$i?>;
    <?php else:?>
        var i = 3;
    <?php endif;?>
	
    /**
     * function to add an input to div 'inputs'
     */
    jQuery( "#add" ).click( function(){
        var id    = 'p-'+i;
        var xhtml = '<p id="'+ id +'">\n\
                        <input type="radio" name="correct" value="'+ i +'" />\n\
                        <input type="text" name="alternative['+ i +']" />\n\
                        <a onclick="jQuery( \'#'+ id +'\' ).remove();" href="#this"><?=$this->translate( 'remove the alternative' )?></a>\n\
                    </p>';
        i++;
        jQuery("#inputs").append( xhtml );
    });


    /**
     * function that verify if input type radio was selected
     */
    jQuery( "#submitQuestion" ).click( function(){
        jQuery( "#QuestionValidate input:radio" ).each( function(){
            if( this.checked ){
            //  validate_q was the variable created in the file question/input.phtml
                validate_q = true;
            }
        });
        
        if( validate_q ){
            jQuery("#submitQuestion").trigger('submit');
        }
        else{
            jQuery( "#message-validate" )
                .html( "<?=$this->translate( 'selected the alternative correct' )?>" )
                .css({"border":"1px red solid",
                      "background":"#fff",
                      "padding":"10px",
                      "margin-bottom":"25px"
                  });
        }
    });


</script>