<div id="inputs">
    <?php if( $this->rs && $this->rs->count() ):?>
        <?php $i = 1?>
        <?php foreach( $this->rs as $key => $rs ):?>
            <div id="<?="$i-".$this->evaluation_id?>">
                <?=$this->formSelect( "correct[$i]", $rs->status , null , $this->letters )?>
                <input type="text" name="alternative[<?=$i?>]" id="text-<?=$i?>" value='<?=$rs->value?>' />
                <div>
                    <?=$this->translate( "justify" )?>
                    <input type="text" name="justify[<?=$i?>]" value="<?=$rs->justify?>" id="justify-<?=$i?>" style="margin: 5px 0px 25px 0px; width: 456px;" />
                </div>
            </div>
            <?php $i++?>
        <?php endforeach;?>
    <?php else:?>
    <div id="<?="1-".$this->evaluation_id?>">
        <?=$this->formSelect( "correct[1]", null , null , $this->letters )?>
        <input type="text" name="alternative[1]" id="text-1" />
        <div>
            <?=$this->translate( "justify" )?>
            <input type="text" name="justify[1]" id="justify-1" style="margin: 5px 0px 25px 0px; width: 459px;" />
        </div>
    </div>
    <?php endif;?>
</div>

<a id="add" href="#this"><?=$this->translate( 'add alternative' )?></a>

<br /><br />

<script type="text/javascript">
    /**
     * add validate
     *
     * QuestionValidate was the variable created in the file question/input.phtml
     */
    QuestionValidate.add( 'text-1' , Validate.notEmpty , '<?=$this->translate("required field")?>' );

    /**
     * validate_q was the variable created in the file question/input.phtml
     */
    validate_q = true;

    /**
     * variable to generate the id's of selects
     */
    <?php if( $this->rs && $this->rs->count() ):?>
        var i = <?=$i?>;
    <?php else:?>
        var i = 2;
    <?php endif;?>

    /**
     * function to add an input to div 'inputs'
     */
    $( "#add" ).click( function(){
        var id    = i +'-<?=$this->evaluation_id?>';
        var xhtml = '<div id="'+ id +'">\n\
                         <select id="correct-'+ i +'" name="correct['+ i +']">\n\
                            <option label="A" value="A">A</option>\n\
                            <option label="B" value="B">B</option>\n\
                            <option label="C" value="C">C</option>\n\
                            <option label="D" value="D">D</option>\n\
                            <option label="E" value="E">E</option>\n\
                            <option label="F" value="F">F</option>\n\
                            <option label="G" value="G">G</option>\n\
                            <option label="H" value="H">H</option>\n\
                            <option label="I" value="I">I</option>\n\
                            <option label="J" value="J">J</option>\n\
                            <option label="K" value="K">K</option>\n\
                            <option label="L" value="L">L</option>\n\
                            <option label="M" value="M">M</option>\n\
                            <option label="N" value="N">N</option>\n\
                            <option label="O" value="O">O</option>\n\
                            <option label="P" value="P">P</option>\n\
                            <option label="Q" value="Q">Q</option>\n\
                            <option label="R" value="R">R</option>\n\
                            <option label="S" value="S">S</option>\n\
                            <option label="T" value="T">T</option>\n\
                            <option label="U" value="U">U</option>\n\
                            <option label="V" value="V">V</option>\n\
                            <option label="W" value="W">W</option>\n\
                            <option label="X" value="X">X</option>\n\
                            <option label="Y" value="Y">Y</option>\n\
                            <option label="Z" value="Z">Z</option>\n\
                         </select>\n\
                         <input type="text" name="alternative['+ i +']" id="text-'+ i +'" />\n\
                        <a onclick="$( \'#'+ id +'\' ).remove();" href="#this"><?=$this->translate( 'remove the alternative' )?></a>\n\
                        <div>\n\
                            <?=$this->translate( "justify" )?>\n\
                            <input type="text" name="justify['+ i +']" id="justify-'+ i +'" style="margin: 5px 0px 25px 0px; width: 459px;" />\n\
                        </div>\n\
                    </div>';
        i++;
        $("#inputs").append( xhtml );
    });

</script>